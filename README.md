# Galileo - SEO Assistant

<h1 align="center">
  <br>
   <img src="/src/img/icon-128.png" alt="Logo Galileo" title="Logo Galileo" />
  <br>
</h1>

<p align="center">
  This repository contains the <strong>Galileo - SEO Assistant</strong> source code.
  Galileo is a Google Chrome Extension to help you verify your website's SEO information.
</p>

Galileo é uma extensão para o Google Chrome. O Galileo facilita a tarefa de homologação e testes de SEO de páginas web fornecendo testes automáticos para uma série de requisitos como:

* `<h1>` das páginas
* `<title>` das páginas
* `<h2>`, `<h3>`, `<h4>`
* rel next e rel prev
* url canônica
* url AMP associada
* rel alternate para Android
* meta description

## Desenvolvendo

1. Clone esse repositorio
2. Instale [yarn](https://yarnpkg.com): `npm install -g yarn`.
3. Rode `yarn`.
4. Rode `npm run start`
5. Carregue o Galileo no Chrome fazendo:
    1. Acesse `chrome://extensions/`
    2. Cheque `Developer mode`
    3. Clique on `Carregar extensao`
    4. Selecione o diretorio `build`.

## Webpack auto-reload and HRM

To make your workflow much more efficient this boilerplate uses the [webpack server](https://webpack.github.io/docs/webpack-dev-server.html) to development (started with `npm run server`) with auto reload feature that reloads the browser automatically every time that you save some file o your editor.

You can run the dev mode on other port if you want. Just specify the env var `port` like this:

```
$ PORT=6002 npm run start
```

## Content Scripts

Although this boilerplate uses the webpack dev server, it's also prepared to write all your bundles files on the disk at every code change, so you can point, on your extension manifest, to your bundles that you want to use as [content scripts](https://developer.chrome.com/extensions/content_scripts), but you need to exclude these entry points from hot reloading [(why?)](https://github.com/samuelsimoes/chrome-extension-webpack-boilerplate/issues/4#issuecomment-261788690). To do so you need to expose which entry points are content scripts on the `webpack.config.js` using the `chromeExtensionBoilerplate -> notHotReload` config. Look the example below.

Let's say that you want use the `myContentScript` entry point as content script, so on your `webpack.config.js` you will configure the entry point and exclude it from hot reloading, like this:

```js
{
  …
  entry: {
    myContentScript: "./src/js/myContentScript.js"
  },
  chromeExtensionBoilerplate: {
    notHotReload: ["myContentScript"]
  }
  …
}
```

and on your `src/manifest.json`:

```json
{
  "content_scripts": [
    {
      "matches": ["https://www.google.com/*"],
      "js": ["myContentScript.bundle.js"]
    }
  ]
}

```

## Packing
After the development of your extension run the command

```
$ NODE_ENV=production npm run build
```
Now, the content of `build` folder will be the extension ready to be submitted to the Chrome Web Store. Just take a look at the [official guide](https://developer.chrome.com/webstore/publish) to more infos about publishing.

## Secrets
If you are developing an extension that talks with some API you probably are using different keys for testing and production. Is a good practice you not commit your secret keys and expose to anyone that have access to the repository.

To this task this boilerplate import the file `./secrets.<THE-NODE_ENV>.js` on your modules through the module named as `secrets`, so you can do things like this:

_./secrets.development.js_

```js
export default { key: "123" };
```

_./src/popup.js_

```js
import secrets from "secrets";
ApiCall({ key: secrets.key });
```
